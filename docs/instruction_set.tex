\documentclass{article}
\usepackage{graphicx} % Required for inserting images
\usepackage{fvextra}
\usepackage{geometry}
 \geometry{
 a4paper,
 total={170mm,257mm},
 left=20mm,
 top=20mm,
}

\title{Instruction Set}
\author{David Farrell}
\date{March 2025}

\def\nothing{\Verb|0000| - do nothing}

\def\nothing{\Verb|0x0000| - do nothing}

\def\begini{\Verb|0x0001| - begin instruction (and increment \Verb|pk|)}

\def\specialtodata#1#2  {\Verb|0x#1#202| - output \Verb|sr#1| to data bus for #2 clock cycles}
\def\specialtoaddr#1#2  {\Verb|0x#1#203| - output \Verb|sr#1| to addr bus for #2 clock cycles}
\def\specialptodata#1#2 {\Verb|0x#1#204| - output *\Verb|sr#1| to data bus for #2 clock cycles}
\def\specialptodatao#1#2{\Verb|0x#1#205| - output *(\Verb|sr#1|+\Verb|offs|) to data bus for #2 clock cycles}
\def\datatospecial#1    {\Verb|0x#1006| - write to \Verb|sr#1| from data bus}

\def\sregsfuncn#1#2{\Verb|0x#1_1#2| - Special register #1 special function #2}

\def\incrementpk    {\Verb|0x0010| - increment \Verb|pk|}

\def\pkptroutinc#1    {\Verb|0x0#111| - output *\Verb|sr#1| to data bus for #1 cycles and increment \Verb|pk|}

\def\writetmpatopk       {\Verb|0x0012| - write to \Verb|pk| from \Verb|tmpA|}
\def\writetmpbtopk	 {\Verb|0x0013| - write to \Verb|pk| from \Verb|tmpB|} 	

\def\tmpatopkifz    {\Verb|0x0014| - write to \Verb|pk| from \Verb|tmpA| if data bus is zero; increment otherwise}
\def\tmpatopkifnz   {\Verb|0x0015| - write to \Verb|pk| from \Verb|tmpA| if data bus is nonzero; increment otherwise}

\def\tmpatopkifn    {\Verb|0x0016| - write to \Verb|pk| from \Verb|tmpA| if data bus is negative; increment otherwise}
\def\tmpatopkifnn   {\Verb|0x0017| - write to \Verb|pk| from \Verb|tmpA| if data bus is non-negative; increment otherwise}  

\def\tmpatopkifp    {\Verb|0x0018| - write to \Verb|pk| from \Verb|tmpA| if data bus is positive; increment otherwise}
\def\tmpatopkifnp   {\Verb|0x0019| - write to \Verb|pk| from \Verb|tmpA| if data bus is non-positive; increment otherwise}

\def\incrementsp    {\Verb|0x1010| - increment \Verb|sp|}
\def\decrementsp    {\Verb|0x1011| - decrement \Verb|sp|}

\def\tmpatopk#1     {\Verb|0x2#110| - output \Verb|tmpA| to \Verb|pk| via secret line for #1 clock cycles}
\def\tmpbtopk#1     {\Verb|0x2#110| - output \Verb|tmpB| to \Verb|pk| via secret line for #1 clock cycles}

\def\regtodata#1#2    {\Verb|0x#1#220| - output \Verb|r#1| to data bus for #2 clock cycles}
\def\regtoaddr#1#2    {\Verb|0x#1#221| - output \Verb|r#1| to addr bus for #2 clock cycles}
\def\regptodata#1#2   {\Verb|0x#1#222| - output *\Verb|r#1| to data bus for #2 clock cycles}
\def\regptodatao#1#2  {\Verb|0x#1#223| - output *(\Verb|r#1|+\Verb|offs|) to data bus for #2 clock cycles}
\def\datatoreg#1      {\Verb|0x#1024| - write to \Verb|r#1| from data bus}

\def\writeRAM       {\Verb|0x0025| - write data bus to *(addr bus)}
\def\writeRAMo      {\Verb|0x0026| - write data bus to *(addr bus+\Verb|offs|)}
\def\readRAM#1      {\Verb|0x0#127| - output *(addr bus) RAM to data bus for #1 clock cycles}
\def\readRAMo#1     {\Verb|0x0#128| - output *(addr bus+\Verb|offs|) RAM to data bus for #1 clock cycles}

\def\echodata           {\Verb|0x0030| - echo data bus to itself for 2 cycles}
\def\echodataaddr       {\Verb|0x0031| - echo data bus to addr bus for 3 cycles}
\def\echoaddrdata       {\Verb|0x0032| - echo addr bus to data bus for 2 cycles}
\def\echoaddraddr       {\Verb|0x0033| - echo addr bus to itself for 2 cycles}
\def\echoaddraddrlong   {\Verb|0x0034| - echo addr bus to itself for 3 cycles}
\def\echodatalong       {\Verb|0x0035| - echo data bus to itself for 3 cycles}
\def\echoaddrdatalong   {\Verb|0x0036| - echo addr bus to data bus for 3 cycles}

\def\pinmodein#1    {\Verb|0x#1030| - set I/O pin \Verb|N| to input mode}
\def\pinmodeout#1   {\Verb|0x#1031| - set I/O pin \Verb|N| to output mode}
\def\setpinlow#1    {\Verb|0x#1032| - set I/O pin \Verb|N| to low}
\def\setpinhigh#1   {\Verb|0x#1033| - set I/O pin \Verb|N| to high}
\def\pintodata#1#2  {\Verb|0x#1#234| - output I/O pin \Verb|N| to data bus for #2 clock cycles}
\def\datatopin#1    {\Verb|0x#1035| - write data bus to I/O pin \Verb|N|}

\def\ALUop#1#2#3#4{\Verb|0x#1#2(4+#4)#3| - output ALU operation #3 on (\Verb|r#1|, \Verb|r#2|) to data bus for #4 clock cycles}

\def\done{\Verb|0xfffe| - end instruction}
\def\reset{\Verb|0xffff| - reset everything}


\begin{document}

\maketitle

Special registers:
\begin{itemize}
    \item \Verb|sr0| - program kounter \Verb|pk|,
    \item \Verb|sr1| - stack pointer \Verb|sp|,
    \item \Verb|sr2| - temp A \Verb{tmpA},
    \item \Verb|sr3| - temp B \Verb{tmpB},
    \item \Verb|sr4| - offset register \Verb{offs}.
\end{itemize}

\section{instructions}

\subsection{Control}
\begin{itemize}
    \item \Verb|0000| - \Verb|chill|. Do nothing. Go to next instruction. [implemented]
    \begin{itemize}
        \item Micro-instruction sequence:
        \begin{itemize}
            \item \done
        \end{itemize}
    \end{itemize}

    \item \Verb|0001| - \Verb|goto|. Write constant to program kounter. (GOTO)
    \begin{itemize}
        \item Micro-instruction sequence:
        \begin{itemize}
            \item \pkptrout
            \item \datatopk
            \item \done
        \end{itemize}
    \end{itemize}

    \item \Verb|N002| - \Verb|gotoz|. goto if register \Verb|N| is zero.
    \begin{itemize}
        \item Micro-instruction sequence:
        \begin{itemize}
            \item \pkptrout
            \item \datatotmpa
            \item \regtodata N
            \item \tmpatopkifz
            \item \done
        \end{itemize}
    \end{itemize}

    \item \Verb|N003| - \Verb|gotonz|. goto if register \Verb|N| is nonzero.
    \begin{itemize}
        \item Micro-instruction sequence:
        \begin{itemize}
            \item \pkptrout
            \item \datatotmpa
            \item \regtodata N
            \item \tmpatopkifnz
            \item \done
        \end{itemize}
    \end{itemize}

    \item \Verb|N102| - \Verb|goton|. goto if register \Verb|N| is negative.
    \begin{itemize}
        \item Micro-instruction sequence:
        \begin{itemize}
            \item \pkptrout
            \item \datatotmpa
            \item \regtodata N
            \item \tmpatopkifn
            \item \done
        \end{itemize}
    \end{itemize}

    \item \Verb|N103| - \Verb|gotonn|. goto if register \Verb|N| is non-negative.
    \begin{itemize}
        \item Micro-instruction sequence:
        \begin{itemize}
            \item \pkptrout
            \item \datatotmpa
            \item \regtodata N
            \item \tmpatopkifnn
            \item \done
        \end{itemize}
    \end{itemize}

    
    \item \Verb|N202| - \Verb|gotop|. goto if register \Verb|N| is positive.
    \begin{itemize}
        \item Micro-instruction sequence:
        \begin{itemize}
            \item \pkptrout
            \item \datatotmpa
            \item \regtodata N
            \item \tmpatopkifp
            \item \done
        \end{itemize}
    \end{itemize}

    \item \Verb|N203| - \Verb|gotonp|. goto if register \Verb|N| is non-positive.
    \begin{itemize}
        \item Micro-instruction sequence:
        \begin{itemize}
            \item \pkptrout
            \item \datatotmpa
            \item \regtodata N
            \item \tmpatopkifnp
            \item \done
        \end{itemize}
    \end{itemize}
\end{itemize}

\subsection{Arithmetic And Logic}

\begin{itemize}
    \item \Verb|NM1k| - Apply ALU operation k to registers \Verb|N| and \Verb|M| and save to register \Verb|M|.
    \begin{itemize}
        \item Micro-instruction sequence:
        \begin{itemize}
            \item \ALUop N M k 
            \item \datatoreg N
            \item \done
        \end{itemize}
    \end{itemize}
    
    \iffalse
    \item \Verb|002k| - Apply ALU operation k to registers N and M and save to register K, where \Verb|*(pk+1) = []NMK|.
    \begin{itemize}
        \item Micro-instruction sequence:
        \begin{itemize}
            \item \incrementpk
            \item \pkptrout
            \item \datatotmpA
            \item \ALUop 0 0 k 
            \item \datatotmpB
            \item \tmpBtodata
            \item \datatoreg 0
            \item \done
        \end{itemize}
    \end{itemize}
    \fi
\end{itemize}


\subsection{Stack}
\begin{itemize}
    \item \Verb|0004| - \Verb|call|. push \Verb|pk| onto the stack and goto
    \begin{itemize}
        \item Micro-instruction sequence:
        \begin{itemize}
            \item \pkptrout
            \item \datatotmpa
            \item \incrementpk
            \item \decrementsp
            \item \sptoaddr
            \item \pktodata
            \item \writeRAM
            \item \tmpatodata
            \item \datatopk
            \item \done
        \end{itemize}
    \end{itemize}

    \item \Verb|0005| - \Verb|return|. pop top of stack into \Verb|pk|.
    \begin{itemize}
        \item Micro-instruction sequence:
        \begin{itemize}
            \item \spptodata
            \item \datatopk
            \item \incrementsp
            \item \done
        \end{itemize}
    \end{itemize}

    \item \Verb|0006| - \Verb|push|. Just decrement \Verb|sp|
    \begin{itemize}
        \item Micro-instruction sequence:
        \begin{itemize}
            \item \decrementsp
            \item \done
        \end{itemize}
    \end{itemize}
    
    \item \Verb|0106| - \Verb|push|. push constant onto the stack
    \begin{itemize}
        \item Micro-instruction sequence:
        \begin{itemize}
            \item \decrementsp
            \item \pkptrout
            \item \echodatalong
            \item \sptoaddr
            \item \writeRAM
            \item \incrementpk
            \item \done
        \end{itemize}
    \end{itemize}

    \item \Verb|0206| - \Verb|push|. push *(constant) onto the stack
    \begin{itemize}
        \item Micro-instruction sequence:
        \begin{itemize}
            \item \decrementsp
            \item \pkptrout
            \item \echodataaddr
            \item \readRAM
            \item \echodatalong
            \item \sptoaddr
            \item \writeRAM
            \item \incrementpk
            \item \done
        \end{itemize}
    \end{itemize}

    \item \Verb|N306| - \Verb|push|. push \Verb|rN| onto the stack
    \begin{itemize}
        \item Micro-instruction sequence:
        \begin{itemize}
            \item \decrementsp
            \item \sptoaddr
            \item \regtodata N
            \item \writeRAM
            \item \done
        \end{itemize}
    \end{itemize}

    \item \Verb|N406| - \Verb|push|. push \Verb|*rN| onto the stack
    \begin{itemize}
        \item Micro-instruction sequence:
        \begin{itemize}
            \item \decrementsp
            \item \regptodata N
            \item \echodatalong
            \item \sptoaddr
            \item \writeRAM
            \item \done
        \end{itemize}
    \end{itemize}

    
    \item \Verb|N506| - \Verb|push|. push \Verb|*rN+offs| onto the stack
    \begin{itemize}
        \item Micro-instruction sequence:
        \begin{itemize}
            \item \pkptrout
            \item \datatooffs
            \item \decrementsp
            \item \regptodatao N
            \item \echodatalong
            \item \sptoaddr
            \item \writeRAMo
            \item \done
        \end{itemize}
    \end{itemize}

    
    \item \Verb|N606| - \Verb|push|. push \Verb|srN| onto the stack
    \begin{itemize}
        \item Micro-instruction sequence:
        \begin{itemize}
            \item \decrementsp
            \item \sptoaddr
            \item \specialtodata N
            \item \writeRAM
            \item \done
        \end{itemize}
    \end{itemize}

    \item \Verb|N706| - \Verb|push|. push \Verb|*srN| onto the stack
    \begin{itemize}
        \item Micro-instruction sequence:
        \begin{itemize}
            \item \decrementsp
            \item \specialptodata N
            \item \echodatalong
            \item \sptoaddr
            \item \writeRAM
            \item \done
        \end{itemize}
    \end{itemize}

    
    \item \Verb|N806| - \Verb|push|. push \Verb|*srN+offs| onto the stack
    \begin{itemize}
        \item Micro-instruction sequence:
        \begin{itemize}
            \item \pkptrout
            \item \datatooffs
            \item \decrementsp
            \item \specialptodatao N
            \item \echodatalong
            \item \sptoaddr
            \item \writeRAM
            \item \done
        \end{itemize}
    \end{itemize}

    \item \Verb|0007| - \Verb|pop|. Just increment \Verb|sp|
    \begin{itemize}
        \item Micro-instruction sequence:
        \begin{itemize}
            \item \incrementsp
            \item \done
        \end{itemize}
    \end{itemize}

    \item \Verb|0207| - \Verb|pop|. pop top of stack into *(constant)
    \begin{itemize}
        \item Micro-instruction sequence:
        \begin{itemize}
            \item\pkptrout
	        \item\datatotmpa
	        \item\spptodata
	        \item\echodatalong
	        \item\tmpatoaddr
	        \item\writeRAM
	        \item\incrementpk
            \item\incrementsp
	        \item\done
        \end{itemize}
    \end{itemize}
    
    \item \Verb|N307| - \Verb|pop|. pop top of stack into \Verb|rN|.
    \begin{itemize}
        \item Micro-instruction sequence:
        \begin{itemize}
            \item \spptodata
            \item \datatoreg N
            \item \incrementsp
            \item \done
        \end{itemize}
    \end{itemize}
    
    \item \Verb|N407| - \Verb|pop|. pop top of stack into *\Verb|rN|.
    \begin{itemize}
        \item Micro-instruction sequence:
        \begin{itemize}
            \item \spptodata
            \item \datatoreg N
            \item \incrementsp
            \item \done
        \end{itemize}
    \end{itemize}
\end{itemize}

\subsection{Copying And Pasting}
\begin{itemize}
    \item \Verb|0030| - Set *(\Verb|constant|) to \Verb|constant|.
    \begin{itemize}
        \item Micro-instruction sequence:
        \begin{itemize}
            \item \pkptrout
            \item \datatotmpa
            \item \incrementpk
            \item \pkptrout
            \item \echodatalong
            \item \tmpatoaddr
            \item \writeRAM
            \item \incrementpk
            \item \done
        \end{itemize}
    \end{itemize}
    
    \item \Verb|0130| - Set *(\Verb|constant|) to *(\Verb|constant|).
    \begin{itemize}
        \item Micro-instruction sequence:
        \begin{itemize}
            \item \pkptrout
            \item \datatotmpa
            \item \incrementpk
            \item \pkptrout
            \item \echodataaddr
            \item \readRAM
            \item \echodatalong
            \item \tmpatoaddr
            \item \writeRAM
            \item \incrementpk
            \item \done
        \end{itemize}
    \end{itemize}

    \item \Verb|N031| - Set *(\Verb|constant|) to \Verb|rN|.
    \begin{itemize}
        \item Micro-instruction sequence:
        \begin{itemize}
            \item \pkptrout
            \item \echodataaddr
            \item \regtodata N
            \item \writeRAM
            \item \incrementpk
            \item \done
        \end{itemize}
    \end{itemize}

    \item \Verb|N131| - Set *(\Verb|constant|) to *\Verb|rN|.
    \begin{itemize}
        \item Micro-instruction sequence:
        \begin{itemize}
            \item \pkptrout
            \item \datatotmpa
            \item \regptodata N
            \item \echodatalong
            \item \tmpatoaddr
            \item \writeRAM
            \item \incrementpk
            \item \done
        \end{itemize}
    \end{itemize}
    
    \item \Verb|N231| - Set *(\Verb|constant|) to \Verb|*(rN+offs)|.
    \begin{itemize}
        \item Micro-instruction sequence:
        \begin{itemize}
            \item \pkptrout
            \item \datatotmpa
            \item \regptodata N
            \item \echodatalong
            \item \tmpatoaddr
            \item \writeRAM
            \item \incrementpk
            \item \done
        \end{itemize}
    \end{itemize}
    
    \item \Verb|N331| - Set *(\Verb|constant|) to \Verb|srN|.
    \begin{itemize}
        \item Micro-instruction sequence:
        \begin{itemize}
            \item \pkptrout
            \item \echodataaddr
            \item \regtodata N
            \item \writeRAM
            \item \incrementpk
            \item \done
        \end{itemize}
    \end{itemize}

    \item \Verb|N431| - Set *(\Verb|constant|) to *\Verb|srN|.
    \begin{itemize}
        \item Micro-instruction sequence:
        \begin{itemize}
            \item \pkptrout
            \item \datatotmpa
            \item \regptodata N
            \item \echodatalong
            \item \tmpatoaddr
            \item \writeRAM
            \item \incrementpk
            \item \done
        \end{itemize}
    \end{itemize}
    
    \item \Verb|N531| - Set *(\Verb|constant|) to \Verb|*(srN+offs)|.
    \begin{itemize}
        \item Micro-instruction sequence:
        \begin{itemize}
            \item \pkptrout
            \item \datatotmpa
            \item \regptodata N
            \item \echodatalong
            \item \tmpatoaddr
            \item \writeRAM
            \item \incrementpk
            \item \done
        \end{itemize}
    \end{itemize}
    
    \item \Verb|N033| - Set \Verb|rN| to \Verb|constant|.
    \begin{itemize}
        \item Micro-instruction sequence:
        \begin{itemize}
            \item \pkptrout
            \item \datatoreg N
            \item \incrementpk
            \item \done
        \end{itemize}
    \end{itemize}

    \item \Verb|N034| - Set \Verb|rN| to *(\Verb|constant|).
    \begin{itemize}
        \item Micro-instruction sequence:
        \begin{itemize}
            \item \pkptrout
            \item \datatotmpa
            \item \tmpaptodata
            \item \datatoreg N
            \item \incrementpk
            \item \done
        \end{itemize}
    \end{itemize}

    \item \Verb|NM35| - Set \Verb|rN| to \Verb|rM| (i.e., copy from \Verb|rM| to \Verb|rN|).
    \begin{itemize}
        \item Micro-instruction sequence:
        \begin{itemize}
            \item \regtodata N
            \item \datatoreg M
            \item \done
        \end{itemize}
    \end{itemize}

    \item \Verb|NM36| - Set \Verb|rN| to *\Verb|rM|.
    \begin{itemize}
        \item Micro-instruction sequence:
        \begin{itemize}
            \item \regptodata M
            \item \datatoreg N
            \item \done
        \end{itemize}
    \end{itemize}
    
    \item \Verb|NM37| - Set \Verb|rN| to *\Verb|rM+offs|.
    \begin{itemize}
        \item Micro-instruction sequence:
        \begin{itemize}
            \item \pkptrout
            \item \datatooffs
            \item \incrementpk
            \item \regptodatao M
            \item \datatoreg N
            \item \done
        \end{itemize}
    \end{itemize}
    
    \item \Verb|NM38| - Set \Verb|rN| to \Verb|srM| (i.e., copy from \Verb|srM| to \Verb|rN|).
    \begin{itemize}
        \item Micro-instruction sequence:
        \begin{itemize}
            \item \specialtodata N
            \item \datatoreg M
            \item \done
        \end{itemize}
    \end{itemize}

    \item \Verb|NM39| - Set \Verb|rN| to *\Verb|srM|.
    \begin{itemize}
        \item Micro-instruction sequence:
        \begin{itemize}
            \item \specialptodata M
            \item \datatoreg N
            \item \done
        \end{itemize}
    \end{itemize}
    
    \item \Verb|NM3a| - Set \Verb|rN| to *\Verb|srM+offs|.
    \begin{itemize}
        \item Micro-instruction sequence:
        \begin{itemize}
            \item \pkptrout
            \item \datatooffs
            \item \specialptodatao M
            \item \datatoreg N
            \item \incrementpk
            \item \done
        \end{itemize}
    \end{itemize}

    \item \Verb|N03b| - Set *\Verb|rN| to \Verb|constant|.
    \begin{itemize}
        \item Micro-instruction sequence:
        \begin{itemize}
            \item \pkptrout
            \item \datatotmpa
            \item \regtoaddr N
            \item \tmpatodata
            \item \writeRAM
            \item \done
        \end{itemize}
    \end{itemize}
    
    \item \Verb|N03c| - Set *\Verb|rN| to *(\Verb|constant|).
    \begin{itemize}
        \item Micro-instruction sequence:
        \begin{itemize}
            \item \pkptrout
            \item \datatotmpa
            \item \regtoaddr N
            \item \tmpaptodata
            \item \writeRAM
            \item \done
        \end{itemize}
    \end{itemize}
    
    \item \Verb|NM3d| - Set *\Verb|rN| to \Verb|rM|.
    \begin{itemize}
        \item Micro-instruction sequence:
        \begin{itemize}
            \item \regtoaddr N
            \item \regtodata M
            \item \writeRAM
            \item \done
        \end{itemize}
    \end{itemize}

    \item \Verb|NM3e| - Set *\Verb|rN| to *\Verb|rM|.
    \begin{itemize}
        \item Micro-instruction sequence:
        \begin{itemize}
            \item \regtoaddr M
            \item \regtodata N
            \item \writeRAM
            \item \done
        \end{itemize}
    \end{itemize}

    \item \Verb|NM3f| - Set *\Verb|rN| to *\Verb|rM+offs|.
    \begin{itemize}
        \item Micro-instruction sequence:
        \begin{itemize}
            \item \pkptrout
            \item \datatooffs
            \item \regptodatao M
            \item \echodatalong
            \item \regtoaddr N
            \item \writeRAM
            \item \incrementpk
            \item \done
        \end{itemize}
    \end{itemize}
    
    \item \Verb|NM40| - Set *\Verb|rN| to \Verb|srM|.
    \begin{itemize}
        \item Micro-instruction sequence:
        \begin{itemize}
            \item \specialtodata M
            \item \echodatalong
            \item \regtoaddr N
            \item \writeRAM
            \item \done
        \end{itemize}
    \end{itemize}

    \item \Verb|NM41| - Set *\Verb|rN| to *\Verb|srM|.
    \begin{itemize}
        \item Micro-instruction sequence:
        \begin{itemize}
            \item \specialptodata M
            \item \echodatalong
            \item \regtoaddr N
            \item \writeRAM
            \item \done
        \end{itemize}
    \end{itemize}

    \item \Verb|NM42| - Set *\Verb|rN| to *\Verb|srM+offs|.
    \begin{itemize}
        \item Micro-instruction sequence:
        \begin{itemize}
            \item \pkptrout
            \item \datatooffs
            \item \regptodatao M
            \item \echodatalong
            \item \regtoaddr N
            \item \writeRAM
            \item \incrementpk
            \item \done
        \end{itemize}
    \end{itemize}

    \item \Verb|N043| - Set \Verb|*(rN+offs)| to \Verb|constant|.
    \begin{itemize}
        \item Micro-instruction sequence:
        \begin{itemize}
            \item \pkptrout
            \item \datatotmpa
            \item \regtoaddr N
            \item \tmpatodata
            \item \writeRAM
            \item \done
        \end{itemize}
    \end{itemize}
    
    \item \Verb|N143| - Set \Verb|*(rN+offs)| to *(\Verb|constant|).
    \begin{itemize}
        \item Micro-instruction sequence:
        \begin{itemize}
            \item \pkptrout
            \item \datatotmpa
            \item \regtoaddr N
            \item \tmpaptodata
            \item \writeRAM
            \item \done
        \end{itemize}
    \end{itemize}
    
    \item \Verb|NM44| - Set \Verb|*(rN+offs)| to \Verb|rM|.
    \begin{itemize}
        \item Micro-instruction sequence:
        \begin{itemize}
            \item \regtoaddr N
            \item \regtodata M
            \item \writeRAM
            \item \done
        \end{itemize}
    \end{itemize}

    \item \Verb|NM45| - Set \Verb|*(rN+offs)| to *\Verb|rM|.
    \begin{itemize}
        \item Micro-instruction sequence:
        \begin{itemize}
            \item \regtoaddr M
            \item \regtodata N
            \item \writeRAM
            \item \done
        \end{itemize}
    \end{itemize}

    \item \Verb|NM46| - Set \Verb|*(rN+offs)| to \Verb|*(rM+offs2)|.
    \begin{itemize}
        \item Micro-instruction sequence:
        \begin{itemize}
            \item \pkptrout
            \item \datatooffs
            \item \regptodatao M
            \item \echodatalong
            \item \regtoaddr N
            \item \writeRAM
            \item \incrementpk
            \item \done
        \end{itemize}
    \end{itemize}
    
    \item \Verb|NM47| - Set \Verb|*(rN+offs)| to \Verb|srM|.
    \begin{itemize}
        \item Micro-instruction sequence:
        \begin{itemize}
            \item \specialtodata M
            \item \echodatalong
            \item \regtoaddr N
            \item \writeRAM
            \item \done
        \end{itemize}
    \end{itemize}

    \item \Verb|NM48| - Set \Verb|*(rN+offs)| to *\Verb|srM|.
    \begin{itemize}
        \item Micro-instruction sequence:
        \begin{itemize}
            \item \specialptodata M
            \item \echodatalong
            \item \regtoaddr N
            \item \writeRAM
            \item \done
        \end{itemize}
    \end{itemize}

    \item \Verb|NM49| - Set \Verb|*(rN+offs1)| to \Verb|*(rM+offs2)|.
    \begin{itemize}
        \item Micro-instruction sequence:
        \begin{itemize}
            \item \pkptrout
            \item \datatooffs
            \item \regptodatao M
            \item \echodatalong
            \item \regtoaddr N
            \item \writeRAM
            \item \incrementpk
            \item \done
        \end{itemize}
    \end{itemize}

    \item \Verb|N04a| - Set \Verb|srN| to \Verb|constant|.
    \begin{itemize}
        \item Micro-instruction sequence:
        \begin{itemize}
            \item \pkptrout
            \item \datatooffs
            \item \incrementpk
            \item \pkptrout
            \item \echodatalong
            \item \specialtoaddr N
            \item \writeRAMo
            \item \incrementpk
            \item \done
        \end{itemize}
    \end{itemize}
    
    \item \Verb|N14a| - Set \Verb|srN| to \Verb|*constant|.
    \begin{itemize}
        \item Micro-instruction sequence:
        \begin{itemize}
            \item \pkptrout
            \item \datatooffs
            \item \incrementpk
            \item \pkptrout
            \item \echodatalong
            \item \specialtoaddr N
            \item \writeRAMo
            \item \incrementpk
            \item \done
        \end{itemize}
    \end{itemize}
    
    \item \Verb|NM4b| - Set \Verb|srN| to \Verb|rM|.
    \begin{itemize}
        \item Micro-instruction sequence:
        \begin{itemize}
            \item \pkptrout
            \item \datatooffs
            \item \incrementpk
            \item \pkptrout
            \item \echodatalong
            \item \specialtoaddr N
            \item \writeRAMo
            \item \incrementpk
            \item \done
        \end{itemize}
    \end{itemize}
    
    \item \Verb|NM4c| - Set \Verb|srN| to \Verb|*rM|.
    \begin{itemize}
        \item Micro-instruction sequence:
        \begin{itemize}
            \item \pkptrout
            \item \datatooffs
            \item \incrementpk
            \item \pkptrout
            \item \echodatalong
            \item \specialtoaddr N
            \item \writeRAMo
            \item \incrementpk
            \item \done
        \end{itemize}
    \end{itemize}
    
    \item \Verb|NM4d| - Set \Verb|srN| to \Verb|*(rM+offs)|.
    \begin{itemize}
        \item Micro-instruction sequence:
        \begin{itemize}
            \item \pkptrout
            \item \datatooffs
            \item \incrementpk
            \item \pkptrout
            \item \echodatalong
            \item \specialtoaddr N
            \item \writeRAMo
            \item \incrementpk
            \item \done
        \end{itemize}
    \end{itemize}

    \item \Verb|NM4e| - Set \Verb|srN| to \Verb|srM|.
    \begin{itemize}
        \item Micro-instruction sequence:
        \begin{itemize}
            \item \pkptrout
            \item \datatooffs
            \item \incrementpk
            \item \pkptrout
            \item \echodatalong
            \item \specialtoaddr N
            \item \writeRAMo
            \item \incrementpk
            \item \done
        \end{itemize}
    \end{itemize}
    
    \item \Verb|NM4f| - Set \Verb|srN| to \Verb|*srM|.
    \begin{itemize}
        \item Micro-instruction sequence:
        \begin{itemize}
            \item \pkptrout
            \item \datatooffs
            \item \incrementpk
            \item \pkptrout
            \item \echodatalong
            \item \specialtoaddr N
            \item \writeRAMo
            \item \incrementpk
            \item \done
        \end{itemize}
    \end{itemize}
    
    \item \Verb|NM50| - Set \Verb|srN| to \Verb|*(srM+offs)|.
    \begin{itemize}
        \item Micro-instruction sequence:
        \begin{itemize}
            \item \pkptrout
            \item \datatooffs
            \item \incrementpk
            \item \pkptrout
            \item \echodatalong
            \item \specialtoaddr N
            \item \writeRAMo
            \item \incrementpk
            \item \done
        \end{itemize}
    \end{itemize}

    
    \item \Verb|N051| - Set \Verb|*srN| to \Verb|constant|.
    \begin{itemize}
        \item Micro-instruction sequence:
        \begin{itemize}
            \item \pkptrout
            \item \datatooffs
            \item \incrementpk
            \item \pkptrout
            \item \echodatalong
            \item \specialtoaddr N
            \item \writeRAMo
            \item \incrementpk
            \item \done
        \end{itemize}
    \end{itemize}
    
    \item \Verb|N151| - Set \Verb|*srN| to \Verb|*constant|.
    \begin{itemize}
        \item Micro-instruction sequence:
        \begin{itemize}
            \item \pkptrout
            \item \datatooffs
            \item \incrementpk
            \item \pkptrout
            \item \echodatalong
            \item \specialtoaddr N
            \item \writeRAMo
            \item \incrementpk
            \item \done
        \end{itemize}
    \end{itemize}
    
    \item \Verb|NM52| - Set \Verb|*srN| to \Verb|rM|.
    \begin{itemize}
        \item Micro-instruction sequence:
        \begin{itemize}
            \item \pkptrout
            \item \datatooffs
            \item \incrementpk
            \item \pkptrout
            \item \echodatalong
            \item \specialtoaddr N
            \item \writeRAMo
            \item \incrementpk
            \item \done
        \end{itemize}
    \end{itemize}
    
    \item \Verb|NM53| - Set \Verb|*srN| to \Verb|*rM|.
    \begin{itemize}
        \item Micro-instruction sequence:
        \begin{itemize}
            \item \pkptrout
            \item \datatooffs
            \item \incrementpk
            \item \pkptrout
            \item \echodatalong
            \item \specialtoaddr N
            \item \writeRAMo
            \item \incrementpk
            \item \done
        \end{itemize}
    \end{itemize}
    
    \item \Verb|NM54| - Set \Verb|*srN| to \Verb|*(rM+offs)|.
    \begin{itemize}
        \item Micro-instruction sequence:
        \begin{itemize}
            \item \pkptrout
            \item \datatooffs
            \item \incrementpk
            \item \pkptrout
            \item \echodatalong
            \item \specialtoaddr N
            \item \writeRAMo
            \item \incrementpk
            \item \done
        \end{itemize}
    \end{itemize}

    \item \Verb|NM55| - Set \Verb|*srN| to \Verb|srM|.
    \begin{itemize}
        \item Micro-instruction sequence:
        \begin{itemize}
            \item \pkptrout
            \item \datatooffs
            \item \incrementpk
            \item \pkptrout
            \item \echodatalong
            \item \specialtoaddr N
            \item \writeRAMo
            \item \incrementpk
            \item \done
        \end{itemize}
    \end{itemize}
    
    \item \Verb|NM56| - Set \Verb|*srN| to \Verb|*srM|.
    \begin{itemize}
        \item Micro-instruction sequence:
        \begin{itemize}
            \item \pkptrout
            \item \datatooffs
            \item \incrementpk
            \item \pkptrout
            \item \echodatalong
            \item \specialtoaddr N
            \item \writeRAMo
            \item \incrementpk
            \item \done
        \end{itemize}
    \end{itemize}
    
    \item \Verb|NM57| - Set \Verb|*srN| to \Verb|*(srM+offs)|.
    \begin{itemize}
        \item Micro-instruction sequence:
        \begin{itemize}
            \item \pkptrout
            \item \datatooffs
            \item \incrementpk
            \item \pkptrout
            \item \echodatalong
            \item \specialtoaddr N
            \item \writeRAMo
            \item \incrementpk
            \item \done
        \end{itemize}
    \end{itemize}

    
    \item \Verb|N058| - Set \Verb|*(srN+offs)| to \Verb|constant|.
    \begin{itemize}
        \item Micro-instruction sequence:
        \begin{itemize}
            \item \pkptrout
            \item \datatooffs
            \item \incrementpk
            \item \pkptrout
            \item \echodatalong
            \item \specialtoaddr N
            \item \writeRAMo
            \item \incrementpk
            \item \done
        \end{itemize}
    \end{itemize}
    
    \item \Verb|N059| - Set \Verb|*(srN+offs)| to \Verb|*constant|.
    \begin{itemize}
        \item Micro-instruction sequence:
        \begin{itemize}
            \item \pkptrout
            \item \datatooffs
            \item \incrementpk
            \item \pkptrout
            \item \echodatalong
            \item \specialtoaddr N
            \item \writeRAMo
            \item \incrementpk
            \item \done
        \end{itemize}
    \end{itemize}
    
    \item \Verb|NM5a| - Set \Verb|*(srN+offs)| to \Verb|rM|.
    \begin{itemize}
        \item Micro-instruction sequence:
        \begin{itemize}
            \item \pkptrout
            \item \datatooffs
            \item \incrementpk
            \item \pkptrout
            \item \echodatalong
            \item \specialtoaddr N
            \item \writeRAMo
            \item \incrementpk
            \item \done
        \end{itemize}
    \end{itemize}
    
    \item \Verb|NM5b| - Set \Verb|*(srN+offs)| to \Verb|*rM|.
    \begin{itemize}
        \item Micro-instruction sequence:
        \begin{itemize}
            \item \pkptrout
            \item \datatooffs
            \item \incrementpk
            \item \pkptrout
            \item \echodatalong
            \item \specialtoaddr N
            \item \writeRAMo
            \item \incrementpk
            \item \done
        \end{itemize}
    \end{itemize}
    
    \item \Verb|NM5c| - Set \Verb|*(srN+offs1)| to \Verb|*(rM+offs2)|.
    \begin{itemize}
        \item Micro-instruction sequence:
        \begin{itemize}
            \item \pkptrout
            \item \datatooffs
            \item \incrementpk
            \item \pkptrout
            \item \echodatalong
            \item \specialtoaddr N
            \item \writeRAMo
            \item \incrementpk
            \item \done
        \end{itemize}
    \end{itemize}

    \item \Verb|NM5d| - Set \Verb|*(srN+offs)| to \Verb|srM|.
    \begin{itemize}
        \item Micro-instruction sequence:
        \begin{itemize}
            \item \pkptrout
            \item \datatooffs
            \item \incrementpk
            \item \pkptrout
            \item \echodatalong
            \item \specialtoaddr N
            \item \writeRAMo
            \item \incrementpk
            \item \done
        \end{itemize}
    \end{itemize}
    
    \item \Verb|NM5e| - Set \Verb|*(srN+offs)| to \Verb|*srM|.
    \begin{itemize}
        \item Micro-instruction sequence:
        \begin{itemize}
            \item \pkptrout
            \item \datatooffs
            \item \incrementpk
            \item \pkptrout
            \item \echodatalong
            \item \specialtoaddr N
            \item \writeRAMo
            \item \incrementpk
            \item \done
        \end{itemize}
    \end{itemize}
    
    \item \Verb|NM5f| - Set \Verb|*(srN+offs1)| to \Verb|*(srM+offs2)|.
    \begin{itemize}
        \item Micro-instruction sequence:
        \begin{itemize}
            \item \pkptrout
            \item \datatooffs
            \item \incrementpk
            \item \pkptrout
            \item \echodatalong
            \item \specialtoaddr N
            \item \writeRAMo
            \item \incrementpk
            \item \done
        \end{itemize}
    \end{itemize}
\end{itemize}

\section{I/O}
\begin{itemize}
   \item \Verb|00a0| - Set I/O pin \Verb|N| to input mode.
   \begin{itemize}
        \item Micro-instruction sequence:
        \begin{itemize}
            \item \pinmodein N
        \end{itemize}
    \end{itemize}
    
    
   \item \Verb|00a1| - Set I/O pin \Verb|N| to output mode.
   \begin{itemize}
        \item Micro-instruction sequence:
        \begin{itemize}
            \item \pinmodeout N
        \end{itemize}
    \end{itemize}
    
   \item \Verb|00a2| - Set I/O pin \Verb|N| to low.
   \begin{itemize}
        \item Micro-instruction sequence:
        \begin{itemize}
            \item \setpinlow N
        \end{itemize}
    \end{itemize}
    
    
   \item \Verb|00a3| - Set I/O pin \Verb|N| to high.
   \begin{itemize}
        \item Micro-instruction sequence:
        \begin{itemize}
            \item \setpinhigh N
        \end{itemize}
    \end{itemize}
    
   \item \Verb|NMa4| - Read I/O pin \Verb|N| to register \Verb|M|.
   \begin{itemize}
        \item Micro-instruction sequence:
        \begin{itemize}
            \item \pintodata N
            \item \datatoreg M
        \end{itemize}
    \end{itemize}
    
    \item \Verb|NMa5| - Write register \Verb|M| to I/O pin \Verb|N|.
   \begin{itemize}
        \item Micro-instruction sequence:
        \begin{itemize}
            \item \regtodata M
            \item \datatopin N
        \end{itemize}
    \end{itemize}
\end{itemize}

\end{document}
